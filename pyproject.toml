[build-system]
    build-backend = "poetry.core.masonry.api"
    requires = [
        "poetry-core>=1.9.0",
    ]

[project]
    classifiers = [
        "Development Status :: 5 - Production/Stable",
        "Intended Audience :: Developers",
        "License :: OSI Approved :: MIT License",
        "Operating System :: OS Independent",
        "Programming Language :: Python :: 3 :: Only",
        "Programming Language :: Python :: 3.13",
        "Topic :: Database",
        "Topic :: Software Development :: Libraries :: Python Modules",
        "Topic :: System :: Archiving",
        "Typing :: Typed",
    ]
    dependencies = [
        "click>=8.0.0",
        "flext-cli",
        "flext-core",
        "flext-db-oracle",
        "flext-meltano",
        "pydantic (>=2.12.3)",
        "pydantic-settings (>=2.10.1)",
        "PyYAML (>=6.0.2)",
        "rich (>=14.2.0,<15.0.0)",
        "pydantic-core (>=2.41.4)",
    ]
    description = "FLEXT Target Oracle - Singer Target for Oracle Database Data Loading"
    keywords = [
        "data-loading",
        "database",
        "enterprise",
        "etl",
        "flext",
        "library",
        "oracle",
        "typed",
    ]
    name = "flext-target-oracle"
    readme = "README.md"
    requires-python = ">=3.13,<3.14"
    version = "0.10.0-dev"
    [[project.authors]]
        email = "team@flext.sh"
        name  = "FLEXT Team"

    [[project.maintainers]]
        email = "team@flext.sh"
        name  = "FLEXT Team"

    [project.license]
        text = "MIT"

    [project.urls]
        Documentation = "https://github.com/flext-sh/flext/blob/main/README.md"
        Homepage      = "https://github.com/flext-sh/flext"
        Repository    = "https://github.com/flext-sh/flext"

    [project.scripts]
        flext-target-oracle = "flext_target_oracle.target:cli"
        target-oracle       = "flext_target_oracle.target:cli"

[tool.ruff]
    extend = "../ruff-shared.toml"

[tool.bandit]
    exclude_dirs = [
        "build",
        "dist",
        "tests",
    ]
    skips = [
        "B101",
        "B601",
    ]

[tool.poetry]
    [[tool.poetry.packages]]
        from    = "src"
        include = "flext_target_oracle"

[tool.deptry]
    known_first_party = [
        "flext_target_oracle",
        "flext_core",
        "flext_db_oracle",
        "flext_meltano",
        "flext_observability",
        "flext_cli",
    ]
    pep621_dev_dependency_groups = [
        "dev",
        "test",
        "typings",
        "security",
    ]

    [tool.deptry.package_module_name_map]
        PyYAML = "yaml"

    [tool.deptry.per_rule_ignores]
        DEP002 = [
            # CLI tools (invoked from command line, not imported)
            "bandit", "commitizen", "detect-secrets", "pip-audit",
            "pre-commit", "pyrefly", "radon", "ruff", "vulture",
            # Pytest plugins (loaded by pytest, not imported)
            "pytest-benchmark", "pytest-clarity", "pytest-mock",
            "pytest-sugar", "pytest-timeout", "pytest-xdist",
            # Runtime deps used indirectly (via click, rich, flext)
            "click", "rich", "pytest", "pytest-cov",
            # Transitive deps (used via flext-core)
            "flext-cli", "flext-core", "flext-db-oracle", "flext-meltano", "pydantic-core",
        ]

    [tool.poetry.dependencies]
        click    = ">=8.0.0"
        pydantic = ">=2.12.3"
        python   = ">=3.13,<3.14"
        rich = "=14.2.0"

[tool.pytest.ini_options]
    addopts = [
        "--maxfail=1",
        "--strict-config",
        "--strict-markers",
        "--tb=short",
        "-ra",
    ]
    markers = [
        "e2e: End-to-end tests",
        "integration: Integration tests",
        "slow: Slow tests",
        "smoke: Smoke tests",
        "unit: Unit tests",
    ]
    minversion = "8.0"
    testpaths = [
        "tests",
    ]

    [tool.ruff.lint.isort]
        known-first-party = [
            "flext_target_oracle",
        ]

        [tool.poetry.dependencies.flext-core]
            develop = true
            path    = "../flext-core"

                                                                                                        [tool.poetry.dependencies.flext-db-oracle]
            develop = true
            path    = "../flext-db-oracle"

                                                                                                                                                                                                        [tool.poetry.dependencies.flext-meltano]
            develop = true
            path    = "../flext-meltano"

                                                                                                                                                                                                                                                                                                        [tool.poetry.dependencies.flext-observability]
            develop = true
            path    = "../flext-observability"

                                                                                                                                                                                                                                                                                                                                                                                                        [tool.poetry.dependencies.flext-cli]
            develop = true
            path    = "../flext-cli"

    [tool.poetry.group.dev.dependencies]
        commitizen       = ">=4.8.3"
        detect-secrets   = ">=1.5.0"
        pip-audit        = ">=2.9.0"
        pre-commit       = ">=4.2.0"
        pyrefly          = "^0.46.3"
        pytest           = "^9.0.2"
        pytest-benchmark = ">=5.1.0"
        pytest-clarity   = ">=1.0.1"
        pytest-cov = "^7.0.0"
        pytest-mock      = ">=3.14.1"
        pytest-sugar     = ">=1.0.0"
        pytest-timeout   = ">=2.4.0"
        pytest-xdist     = ">=3.8.0"
        radon            = ">=6.0.1"
        ruff             = ">=0.12.3"
        vulture          = ">=2.14"
    opentelemetry-api = ">=1.39.1"
    opentelemetry-sdk = ">=1.39.1"
    prompt-toolkit = ">=3.0.52"
    sqlparse = ">=0.5.5"

        [tool.poetry.group.dev.dependencies.bandit]
            extras = [
                "toml",
            ]
            version = ">=1.8.0"
